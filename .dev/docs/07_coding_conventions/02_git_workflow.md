# ✍️ Git 워크플로우 및 커밋 메시지 규칙

이 문서는 `orv-api-server` 프로젝트의 Git 브랜치 관리 전략과 커밋 메시지 작성 규칙을 정의합니다.

---

### 1. Git 브랜치 전략: Git-flow

이 프로젝트는 `Git-flow`를 기본 브랜칭 모델로 사용합니다.

#### **주요 브랜치**

-   **`main`**:
    -   배포 가능한 프로덕션 코드를 위한 브랜치입니다.
    -   오직 `release` 브랜치와 `hotfix` 브랜치에서만 병합(merge)될 수 있습니다.
    -   직접적인 커밋은 허용되지 않습니다.

-   **`develop`**:
    -   다음 릴리즈를 위해 개발 중인 최신 코드를 포함하는 브랜치입니다.
    -   모든 `feature` 브랜치는 `develop` 브랜치에서 분기하고, 개발이 완료되면 다시 `develop` 브랜치로 병합됩니다.

#### **보조 브랜치**

-   **`feature/{기능-이름}`**:
    -   새로운 기능을 개발하기 위한 브랜치입니다.
    -   **분기(Branch off from)**: `develop`
    -   **병합(Merge back into)**: `develop`
    -   **네이밍 규칙**: `feature/` 접두사 뒤에, 이슈 트래커의 티켓 번호나 기능 이름을 소문자와 하이픈(`-`)으로 작성합니다.
    -   예: `feature/add-user-nickname`, `feature/ORV-123-implement-kakao-login`

-   **`release/{버전-번호}`**:
    -   새로운 프로덕션 릴리즈를 준비하기 위한 브랜치입니다. (예: `release/1.2.0`)
    -   이 브랜치에서는 새로운 기능 추가 없이 버그 수정, 문서 작업 등 릴리즈에 필요한 마지막 작업만 수행합니다.
    -   **분기**: `develop`
    -   **병합**: `main` 과 `develop` (릴리즈 준비 중 발생한 변경사항을 `develop`에도 반영하기 위함)

-   **`hotfix/{문제-이름}`**:
    -   운영 환경(`main` 브랜치)에서 발생한 긴급한 버그를 수정하기 위한 브랜치입니다.
    -   **분기**: `main`
    -   **병합**: `main` 과 `develop`

---

### 2. 커밋 메시지 규칙

좋은 커밋 메시지는 코드 변경 이력을 쉽게 추적하고 이해하는 데 도움을 줍니다. 이 프로젝트는 **Conventional Commits** 명세를 따릅니다.

#### **커밋 메시지 형식**

```
<type>(<scope>): <subject>

<body>

<footer>
```

-   **`<type>` (필수)**: 커밋의 종류를 나타냅니다.
    -   `feat`: 새로운 기능 추가
    -   `fix`: 버그 수정
    -   `docs`: 문서 변경 (코드 변경 없음)
    -   `style`: 코드 포맷팅, 세미콜론 누락 등 (코드 로직 변경 없음)
    -   `refactor`: 코드 리팩토링 (기능 변경 없이 내부 구조 개선)
    -   `test`: 테스트 코드 추가 또는 수정
    -   `chore`: 빌드 스크립트, 패키지 매니저 설정 등 (프로덕션 코드 변경 없음)

-   **`<scope>` (선택)**: 커밋이 영향을 미치는 범위를 나타냅니다.
    -   예: `auth`, `reservation`, `ci`

-   **`<subject>` (필수)**: 커밋에 대한 간결한 요약 설명입니다.
    -   50자를 넘지 않도록 합니다.
    -   문장의 끝에 마침표를 찍지 않습니다.
    -   명령문(동사 원형)으로 작성합니다. (예: "Add" not "Added", "Fix" not "Fixed")

-   **`<body>` (선택)**: 본문에는 변경 이유와 상세 내용을 작성합니다.

-   **`<footer>` (선택)**: 관련된 이슈 트래커의 티켓 번호를 명시합니다. (예: `Closes #123`, `Fixes ORV-456`)

#### **커밋 메시지 예시**

**예시 1: 새로운 기능 추가**
```
feat(auth): 카카오 소셜 로그인 기능 구현

- KakaoAuthService를 추가하여 카카오 ID 토큰 검증 로직 구현
- AuthController에 /api/v1/auth/login/kakao 엔드포인트 추가

Closes #42
```

**예시 2: 버그 수정**
```
fix(reservation): 예약 시간 중복 검사 로직 오류 수정

기존 로직이 예약의 경계 값을 제대로 처리하지 못하던 문제를 수정하여
정확한 중복 검사가 이루어지도록 함.
```

**예시 3: 문서 수정**
```
docs(readme): 프로젝트 실행 명령어 업데이트

README.md 파일의 로컬 개발 환경 실행 명령어를 최신화함.
